<div class="content-wrapper">
    <div class="container-fluid">
        <div class="row">
            <!-- Main content -->
            <section class="content">
                <div class="box box-defualt  ">
                    <div class="box-header with-border">
                        <h3 class="box-title">Set Access Level</h3>
                    </div>
                    <div class="box-body">
                        <div class="f_form_content">
                            <div class="col-md-12">
                                <form #createEntityForm="ngForm" (ngSubmit)="onSubmit()" class="form-horizontal">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="sel1">User Name:</label>
                                            <div class="col-sm-9 ng-binding">
                                                {{usersData.user_first_name}} {{usersData.user_last_name}}
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="sel1">Entity:</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" required
                                                    [(ngModel)]="usersData.user_organization_id"
                                                    name="user_organization_id" #user_organization_id="ngModel"
                                                    (change)="changeUnit()">
                                                    <option value="0" selected>--Select--</option>
                                                    <option *ngFor="let item of entityList" value={{item.orga_id}}>
                                                        {{item.orga_name}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="sel1">Unit:</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" multiple required name="user_location_id2"
                                                    [(ngModel)]="usersData.user_location_id2"
                                                    (change)="changeFunction()">
                                                    <option value="0" selected>--Select--</option>
                                                    <option *ngFor="let item of unitListBinding" value={{item.loca_id}}>
                                                        {{item.loca_name}}</option>
                                                </select>


                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="sel1">Function:</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" required
                                                    [(ngModel)]="usersData.user_department_id"
                                                    #user_department_id="ngModel" name="user_department_id">
                                                    <option value="0" selected>--Select--</option>
                                                    <option *ngFor="let item of functionListBinding"
                                                        value={{item.dept_id}}>
                                                        {{item.dept_name}}</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-md-12 litigation_buttons">
                                            <br>
                                            <button [disabled]="createEntityForm.form.invalid" type="submit"
                                                class="btn btn-primary label-margin">Add Access level</button>
                                        </div>
                                    </div>
                                </form>

                                <div class="col-md-6 litigation_buttons">
                                    <!-- <div style="float: right">
                                        <button type="submit" id="set_access" class="btn btn-myPrimary" ng-click="saveAccess(addUserForm.$submitted)">Save Access</button>
                                    </div> -->
                                    <div id="total_count"></div>
                                    <table id="id_tblrow" class="table table-striped table-bordered"
                                        style="float: left; width: 100%; clear: both;margin-top: 10px;">
                                        <thead>
                                            <tr>
                                                <td>#</td>
                                                <td>Entity</td>
                                                <td>Unit</td>
                                                <td>Function</td>
                                                <td>Action</td>
                                            </tr>

                                        </thead>
                                        <tbody *ngIf="access_set?.length <= 0">
                                            <tr>
                                                <td colspan="5" class="text-center">
                                                    Data not available !
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody *ngIf="access_set?.length != 0">
                                            <tr
                                                *ngFor="let item of access_set | stringFilter: TableFilter  | paginate: {id: 'usersData', itemsPerPage: Pagination.ItemsPerPage, currentPage: Pagination.CurrentPage, totalItems: Pagination.TotalRecords}; let i = index">
                                                <td class="text-center">{{( i + 1) + (Pagination.CurrentPage - 1) *
                                                    Pagination.ItemsPerPage}}</td>
                                                <td class="ng-binding">{{item.orga_name}}</td>
                                                <td class="ng-binding">{{item.loca_name}}</td>
                                                <td class="ng-binding">{{item.dept_name}}</td>
                                                <td>
                                                    <button type="button" (click)="removeUserAccess(item.umap_id)"
                                                        class="btn btn-sm btn-danger">
                                                        <i class="fa fa-trash"></i>&nbsp;Remove
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div *ngIf="access_set?.length != 0">
                                        <pagination-controls id="usersData" maxSize="5" directionLinks="true"
                                            (pageChange)="Pagination.CurrentPage=$event">
                                        </pagination-controls>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.box -->



            </section>
            <!-- /.content -->
        </div>
    </div>
    <!-- /.container -->
</div>